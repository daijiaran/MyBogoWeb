ä¸ºäº†åœ¨æ‚¨çš„ Vue é¡¹ç›®ä¸­é›†æˆå¹¶è¿è¡Œ SQLiteï¼Œæˆ‘ä»¬éœ€è¦å®Œæˆä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ã€‚

**é‡è¦å‰ç½®æ“ä½œï¼š**
ç”±äº WebAssembly (`.wasm`) æ–‡ä»¶é€šå¸¸éœ€è¦é€šè¿‡ HTTP è¯·æ±‚åŠ è½½ï¼Œä¸”æµè§ˆå™¨æ— æ³•ç›´æ¥è®¿é—® `src` ç›®å½•ä¸‹çš„é™æ€èµ„æºï¼Œè¯·å…ˆæ‰§è¡Œä»¥ä¸‹æ–‡ä»¶ç§»åŠ¨æ“ä½œï¼š

1. æ‰¾åˆ°æ‚¨ä¸Šä¼ çš„ `src/api/sqljs-worker-wasm/sql-wasm.wasm` æ–‡ä»¶ã€‚
2. å°†å…¶å¤åˆ¶åˆ°é¡¹ç›®çš„ **`public/`** ç›®å½•ä¸‹ï¼ˆä¸ `index.html` åŒçº§ï¼‰ã€‚
3. ç¡®ä¿å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—® `http://localhost:8080/sql-wasm.wasm`ï¼ˆå‡è®¾æ‚¨æœ¬åœ°è¿è¡Œåœ¨ 8080 ç«¯å£ï¼‰ã€‚

ä»¥ä¸‹æ˜¯å…·ä½“çš„ä»£ç å®æ–½æ–¹æ¡ˆï¼š

### 1. é…ç½®è·¯ç”± (`src/router/index.js`)

æˆ‘ä»¬éœ€è¦åœ¨è·¯ç”±ä¸­æ³¨å†Œ SQL é¡µé¢ï¼Œä»¥ä¾¿é€šè¿‡ URL è®¿é—®ã€‚

```javascript
import { createRouter, createWebHashHistory } from 'vue-router'
import Home from '../views/HomeView.vue'
import UnityProjectView from '../views/UnityProjectView.vue'
import PromotionalVideoView from '../views/PromotionalVideoView.vue'
import Manage from '../views/ManageView.vue'
import ArticleView from "@/views/ArticleView.vue"
import UserView from "@/views/UserView.vue"
import LogView from "@/views/LogView.vue"
import ExamTool from "@/components/Pages/quiz-app-container.vue"
// 1. å¼•å…¥ SQL ç»„ä»¶
import SQLView from "@/components/Pages/SQL.vue"

const routes = [
    {
        path: '/',
        name: 'Home',
        component: Home
    },
    {
        path: '/UnityProject',
        name: 'UnityProject',
        component: UnityProjectView
    },
    {
        path: '/PromotionalVideoView',
        name: 'PromotionalVideo',
        component: PromotionalVideoView
    },
    {
        path: '/manage',
        name: 'Manage',
        component: Manage
    },
    {
        path: '/article/:id',
        name: 'Article',
        component: ArticleView,
        props: true
    },
    {
        path: '/LogView',
        name: 'LogView',
        component: LogView
    },
    {
        path: '/quiz-app-container',
        name: 'ExamTool',
        component: ExamTool
    },
    {
        path: '/user',
        name: 'User',
        component: UserView
    },
    // 2. æ·»åŠ  SQL é¡µé¢è·¯ç”±
    {
        path: '/sql',
        name: 'SQL',
        component: SQLView
    }
]

const router = createRouter({
    history: createWebHashHistory(),
    routes
})

export default router

```

### 2. å®ç° SQL ç»„ä»¶ (`src/components/Pages/SQL.vue`)

è¿™ä¸ªç»„ä»¶å°†è´Ÿè´£åŠ è½½æ•°æ®åº“å¼•æ“ã€æä¾›è¾“å…¥æ¡†å’Œæ˜¾ç¤ºç»“æœã€‚

```vue
<script setup lang="ts">
import { ref, onMounted } from 'vue';
import { useRouter } from 'vue-router';
// å¼•å…¥ä½ æä¾›çš„ worker.sql-wasm.jsï¼Œå®ƒå¯¼å‡ºäº† initSqlJs å‡½æ•°
// è¯·ç¡®ä¿è·¯å¾„æ­£ç¡®æŒ‡å‘ src/api/sqljs-worker-wasm/worker.sql-wasm.js
import initSqlJs from '../../api/sqljs-worker-wasm/worker.sql-wasm.js';

const router = useRouter();
const db = ref(null);
const isReady = ref(false);
const errorMsg = ref('');
const queryStr = ref("CREATE TABLE hello (a int, b char);\nINSERT INTO hello VALUES (0, 'hello');\nINSERT INTO hello VALUES (1, 'world');\nSELECT * FROM hello;");
const results = ref([]);
const executed = ref(false);

// åˆå§‹åŒ–æ•°æ®åº“
const initDatabase = async () => {
  try {
    // åŠ è½½ SQL å¼•æ“
    const SQL = await initSqlJs({
      // å…³é”®ï¼šæŒ‡å®š wasm æ–‡ä»¶åœ¨ public ç›®å½•ä¸‹çš„è·¯å¾„
      locateFile: () => '/sql-wasm.wasm' 
    });
    
    // åˆ›å»ºå†…å­˜æ•°æ®åº“
    db.value = new SQL.Database();
    isReady.value = true;
  } catch (err) {
    console.error(err);
    errorMsg.value = "æ•°æ®åº“å¼•æ“åŠ è½½å¤±è´¥: " + err.message;
  }
};

const runQuery = () => {
  if (!db.value) return;
  errorMsg.value = '';
  results.value = [];
  executed.value = false;

  try {
    // æ‰§è¡Œ SQL
    const res = db.value.exec(queryStr.value);
    results.value = res;
    executed.value = true;
  } catch (err) {
    errorMsg.value = err.message;
  }
};

const resetDb = async () => {
    if(db.value) db.value.close();
    await initDatabase();
    queryStr.value = "SELECT 'Reset Successful' as status;";
    runQuery();
}

onMounted(() => {
  initDatabase();
});
</script>

<template>
  <div class="sql-page-container">
    <header class="sql-header">
      <div class="header-left">
        <button class="btn secondary sm" @click="router.push('/quiz-app-container')">
          â† è¿”å›åˆ·é¢˜
        </button>
        <h1>ğŸ’¾ SQL è¯­æ³•ç»ƒä¹ </h1>
      </div>
      <div class="header-right">
        <span v-if="!isReady" class="status loading">â³ å¼•æ“åŠ è½½ä¸­...</span>
        <span v-else class="status ready">âœ… å¼•æ“å°±ç»ª</span>
      </div>
    </header>

    <main class="sql-main">
      <div class="editor-section">
        <div class="toolbar">
          <button class="btn primary" @click="runQuery" :disabled="!isReady">â–¶ è¿è¡Œ (Run)</button>
          <button class="btn secondary" @click="resetDb" :disabled="!isReady">â†º é‡ç½®æ•°æ®åº“</button>
        </div>
        <textarea 
          v-model="queryStr" 
          class="sql-editor" 
          placeholder="è¯·è¾“å…¥ SQL è¯­å¥..."
          spellcheck="false"
        ></textarea>
      </div>

      <div class="result-section">
        <div v-if="errorMsg" class="message error">
          <strong>âŒ é”™è¯¯:</strong> {{ errorMsg }}
        </div>
        
        <div v-else-if="executed && results.length === 0" class="message success">
          âœ¨ æ‰§è¡ŒæˆåŠŸ (æ— è¿”å›ç»“æœ)
        </div>

        <div v-for="(res, index) in results" :key="index" class="result-table-wrapper">
          <table class="result-table">
            <thead>
              <tr>
                <th v-for="col in res.columns" :key="col">{{ col }}</th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="(row, rIndex) in res.values" :key="rIndex">
                <td v-for="(val, cIndex) in row" :key="cIndex">{{ val }}</td>
              </tr>
            </tbody>
          </table>
          <div class="result-meta">{{ res.values.length }} è¡Œç»“æœ</div>
        </div>
      </div>
    </main>
  </div>
</template>

<style scoped>
/* å¤ç”¨éƒ¨åˆ† quiz-app-container çš„å˜é‡ */
.sql-page-container {
  min-height: 100vh;
  background-color: var(--bg, #f7f7f4);
  color: var(--text, #2d3436);
  font-family: 'Inter', sans-serif;
  display: flex;
  flex-direction: column;
}

.sql-header {
  height: 64px;
  background-color: var(--card-bg, #ffffff);
  border-bottom: 1px solid var(--border, #e6e6e2);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 24px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}

.header-left {
  display: flex;
  align-items: center;
  gap: 16px;
}

.sql-header h1 {
  font-size: 1.2rem;
  margin: 0;
  font-weight: 600;
}

.status {
  font-size: 0.9rem;
  font-weight: 500;
}
.status.loading { color: var(--warning, #d4a373); }
.status.ready { color: var(--success, #609966); }

.sql-main {
  flex: 1;
  padding: 24px;
  max-width: 1200px;
  width: 100%;
  margin: 0 auto;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.editor-section {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.toolbar {
  display: flex;
  gap: 12px;
}

.sql-editor {
  width: 100%;
  height: 200px;
  padding: 16px;
  border: 1px solid var(--border, #ccc);
  border-radius: 8px;
  background-color: var(--input-bg, #fafaf9);
  color: var(--text, #333);
  font-family: 'Fira Code', monospace;
  font-size: 14px;
  line-height: 1.5;
  resize: vertical;
  box-sizing: border-box;
}

.sql-editor:focus {
  outline: none;
  border-color: var(--primary, #4a7c59);
}

.message {
  padding: 12px 16px;
  border-radius: 8px;
  margin-bottom: 16px;
}
.message.error { background-color: rgba(207, 92, 92, 0.1); color: var(--danger, #cf5c5c); }
.message.success { background-color: rgba(96, 153, 102, 0.1); color: var(--success, #609966); }

.result-table-wrapper {
  overflow-x: auto;
  border: 1px solid var(--border, #eee);
  border-radius: 8px;
  background: var(--card-bg, #fff);
  margin-bottom: 24px;
}

.result-table {
  width: 100%;
  border-collapse: collapse;
}

.result-table th, .result-table td {
  padding: 10px 16px;
  text-align: left;
  border-bottom: 1px solid var(--border, #eee);
}

.result-table th {
  background-color: var(--bg, #f9f9f9);
  font-weight: 600;
}

.result-meta {
  padding: 8px 16px;
  font-size: 0.8em;
  color: var(--text-secondary, #888);
  text-align: right;
  background: var(--bg, #f9f9f9);
}

.btn {
  padding: 8px 16px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  font-weight: 600;
  transition: opacity 0.2s;
}
.btn:hover { opacity: 0.9; }
.btn:disabled { opacity: 0.5; cursor: not-allowed; }

.btn.primary { background-color: var(--primary, #4a7c59); color: white; }
.btn.secondary { background-color: var(--text-secondary, #636e72); color: white; }
.btn.sm { font-size: 0.85rem; padding: 6px 12px; }

/* Dark Mode é€‚é… (å¤ç”¨ root å˜é‡) */
[data-theme="dark"] .sql-editor {
  background-color: #2d2d2d;
  color: #e0e0e0;
  border-color: #404040;
}
</style>

```

### 3. æ·»åŠ å…¥å£æŒ‰é’® (`src/components/Pages/quiz-app-container.vue`)

ä¿®æ”¹ `header-right-actions` éƒ¨åˆ†ï¼Œæ·»åŠ ä¸€ä¸ªâ€œSQLâ€æŒ‰é’®ã€‚

```vue
<div class="header-right-actions">
  <button 
    class="icon-btn" 
    @click="$router.push('/sql')" 
    title="SQL è¯­æ³•ç»ƒä¹ "
    style="font-size: 1.2rem; margin-right: 4px;"
  >
    ğŸ’¾
  </button>

  <div v-if="!isMobile" class="auto-scroll-toggle" title="è‡ªåŠ¨æ»šé¢˜">
    ```

å®Œæˆä»¥ä¸Šä¿®æ”¹åï¼Œç‚¹å‡»é¡µé¢å³ä¸Šè§’æ–°å¢çš„ ğŸ’¾ å›¾æ ‡ï¼Œå³å¯è·³è½¬åˆ° SQL ç»ƒä¹ é¡µé¢ã€‚è®°å¾—ä¸€å®šè¦æŠŠ `sql-wasm.wasm` ç§»åˆ° `public` æ–‡ä»¶å¤¹ï¼

```